import numpy as np
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D
from landmarks_pipe import landmark_points

z_coordinates = [3.44573974609375, 3.44573974609375, 3.44573974609375, 3.890838146209717, 3.477952480316162,
                 5.897030353546143, 10.116195678710938, 12.926216125488281, 13.317422866821289, 11.674629211425781,
                 9.725566864013672, 7.5724687576293945, 6.333884239196777, 5.50004768371582, 6.914292335510254,
                 7.048916816711426, 7.675436973571777, 7.606254577636719, 10.952994346618652, 12.963687896728516,
                 12.901714324951172, 13.678543090820312, 12.787386894226074, 12.978381156921387, 12.679763793945312,
                 10.906024932861328, 9.21166706085205, 13.672439575195312, 15.519922256469727, 16.449159622192383,
                 17.78705406188965, 13.872049331665039, 15.222585678100586, 14.950217247009277, 14.448837280273438,
                 13.912639617919922, 10.485065460205078, 11.9127197265625, 11.51820182800293, 10.833451271057129,
                 11.750059127807617, 11.58164119720459, 11.073441505432129, 11.48369026184082, 11.312463760375977,
                 10.865468978881836, 11.464090347290039, 11.86076831817627, 12.402244567871094, 14.768946647644043,
                 14.948866844177246, 15.164548873901367, 14.720026969909668, 13.99432373046875, 12.167926788330078,
                 13.83504867553711, 14.672534942626953, 14.667278289794922, 14.072552680969238, 13.157045364379883,
                 14.23242473602295, 14.71279525756836, 14.644685745239258, 14.422070503234863, 13.087594985961914,
                 12.377950668334961, 12.109482765197754, 12.492663383483887, 13.690361022949219]
z_coordinates_norm = np.array([(x - min(z_coordinates)) / (max(z_coordinates) - min(z_coordinates))
                               for x in z_coordinates])
ax = plt.axes(projection='3d')
ax.figure.set_size_inches(7, 7)

for points in landmark_points(show_face=True):
    X = []
    Y = []
    for x, y in points:
        X.append(x)
        Y.append(y)
    x = np.array(X)
    y = np.array(Y)
    ax.plot_trisurf(x, y, z_coordinates_norm, linewidth=0.2, antialiased=True, color=(0, .6, .8))
    plt.pause(0.0001)
    ax.clear()

plt.show()
